<!-- HTML code outline created by Rob C. de Wit 2021 -->

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
	<head>
		<meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="author" content="Alma Liezenga">
		<title>Het geschenkenregister gevisualiseerd</title>
		<link rel="stylesheet" href="../../css/style.css" />
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link
		href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,400;0,700;1,700&display=swap"
		rel="stylesheet">
		<link
		href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,400;0,600;0,700;1,400;1,600&display=swap"
		rel="stylesheet">
		<link rel="icon" href="data:image/svg+xml,<svg
		xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text
		y=%22.9em%22 font-size=%2290%22>ðŸŒº</text></svg>">

		<!-- Metadata -->
	  <meta name="viewport" content="width=device-width, initial-scale=1">
	  <meta name="description" content="Het visualiseren van het geschenkenregister 
		  van leden van de Tweede Kamer.">
		<meta name="publish_date" property="og:publish_date"
		content="2023-11-15">


	  <!-- Open graph meta tags -->
	  <meta property="og:url"
	  content="https://almaliezenga.com/blog/geschenkenregister/">
	  <meta property="og:type" content="blog">
	  <meta property="og:title" content="Het geschenkenregister gevisualiseerd">
	  <meta property="og:site_name" content="Alma Liezenga">
	  <meta property="og:description" content="Het visualiseren van het geschenkenregister 
		  van leden van de Tweede Kamer.">
	  <meta property="og:image"
	  content="https://almaliezenga.com/blog/geschenkenregister/header.png">

		<!-- Twitter Meta Tags -->
		<meta name="twitter:card" content="summary_large_image">
		<meta property="twitter:domain" content="almaliezenga.com">
		<meta property="twitter:url"
		content="https://almaliezenga.com/blog/geschenkenregister/index.html">
		<meta name="twitter:title" content="Het geschenkenregister gevisualiseerd">
		<meta name="twitter:description" content="Het visualiseren van het geschenkenregister 
		  van leden van de tweede kamer.">
		<meta name="twitter:image" content="">

	</head>
	<body>
		<div class="container">
			<div class="blogpost">
				<span class="breadcrumbs"><a href="../../index.html">&lt&lt Back
				to homepage</a></span>
				<div class="header">
					<h2 class="publishdate">2024-06-30</h2>
					<h1 class="title">Combining IMDb data with the Bechdel Test</h1>
					<h2 class="title">My submission for the Y42 Hackathon</h2>
				</div>

        <p> Usually, I donâ€™t â€˜doâ€™ data engineering. As a researcher, I am more focused on data analysis and building machine learning models. For my personal projects, I often just patch together a bunch of dataframes and visualize them as I go, without periodical updates. 
		Overall, I often brush over the part where I structure my data pipelines more eloquently and make them reproducible and scalable. However, I was recently tempted to partake in the Y42 hackathon and this motivated me to rethink my focus on data analysis and visualization. 
		This is my submission for said hackathon, I hope you enjoy! </p>
				
	<p>For this hackathon I finally delved into a feminist phenomenon that I have loved for a long time: the Bechdel test. The Bechdel test (<a href="https://en.wikipedia.org/wiki/Bechdel_test">Wikipedia</a>), introduced in a comic in a feminist newspaper in 1985, is a measure of the representation of women in film. 
		A movie passes the test if it fits the following requirements: </p>
		<ol>
			<li>The movie has to have at least two women in it,</li>
			<li>who talk to each other,</li>
			<li>about something other than a man</li>
		</ol>
	<p>Once you start paying attention to these requirements while watching movies (or series), you soon realize to realize how little of them meet these â€˜simpleâ€™ guidelines. This only shows how lacking the presence of women in most popular media, and fiction in particular, is. 
		I had been wanting to do something with this test, and in particular, with the data from <a href="https://bechdeltest.com/">bechdeltest.com</a> and this hackathon allowed me to do so! My main goals were to enrich the existing dataset of movies that do (or do not) pass the test with additional knowledge 
		such as genre, budget and popularity. I also wanted to create visualizations that showcased trends in cinema in general and in the presence of women in movies in particular. 
	</p>

	<h2>The process</h2>
	I will now describe some technical details of my Y42 set-up, feel free to skip over this and go straight to the visualizations if that is more of your cup of tea. 
				
	<h3>Data</h3>
	<p>I selected three data sources for this project:</p>
	<ol>
		<li><a href="https://bechdeltest.com/">bechdeltest.com</a> has an API that allows you to download all movies on their website, which includes the IMDb ID, title, release year, Bechdel test score (0-3, based on the number of requirements it meets). The website contains over 10K ratings. </li>
		<li><a href="https://www.kaggle.com/datasets/adriankiezun/imdb-dataset-2023">Kaggle IMDb Dataset 2023</a> by adriankiezun, this dataset had a lot of nice additional information about movies and the IMDb ID as an identifier, in terms of interesting data it added genres (up to 3), average rating, 
			number of votes for that rating, budget, and gross profit. A disadvantage of choosing this dataset was that it was relatively small with just over 3K entries.</li>
		<li><a href="">My own movie watchlist</a> to added some interactivity and to leverage the possibilities of Y42 I connected the results from a Google Form. I really liked this because it gave me a sense of interactivity. I decided to create a form in which I (or you) could add the movies I have 
			watched to visualize how my movie preferences compare to the highest-rated movies.</li>
	</ol>
	<p>For ingestion, I used the Python cloud functions of Y42 for the Kaggle and <a href="https://bechdeltest.com/">bechdeltest.com</a> dataset and used a build-in functionality of the standard connector for the Google sheet. </p>
	
	<h3>Combining datasets</h3>

	<p>Once I had ingested the data from these sources, which required some tinkering in particular to get the Kaggle data connected, I created staging tables with the relevant columns for my project, did some reformatting to make IDs fit across tables, and to include a main genre column. 
		Once these staging tables were set up, it was easy to combine and aggregate data in additional tables using SQL. It had been a while since I had used SQL but it was surprisingly easy to restructure data and aggregate variables. I initially created three main tables: </p>
	<ol>
		<li>A table with all Bechdel-rated movies and additional metadata added when possible.</li>
		<li>A table with all movies from the Kaggle dataset and Bechdel rating added when possible.</li>
		<li>A table with only the movies I watched (okay not literally all movies I ever watched, but I was able to get to a nice group based on my streaming history) with metadata and Bechdel-rating added if available</li>
	</ol>
	<p>Starting from the tables I was able to quickly create aggregated tables which could answer specific questions I had, such as: how has the representation of women in movies changed over the years? How has gross profit and budget of movies changed over the years? Which popular movies do not have a Bechdel test rating yet?</p>

	<h3>Scheduling and exporting</h3>
	
	<p>Now that I had all my tables set up I could build a scheduler. Usually, I build visualizations one-off, but using a scheduler will allow my data to change over time. I did not manage to export my data in an automated way, since I was struggling with the Google Sheets export functionality, so for now I sticked to exporting 
				to csv and running my visualizations locally from there on out. However, using the scheduler and being able to clearly visualize the lineage of my tables already enabled me to make my data processing much more reproducible and scalable. It is now significantly easier to export the updated tables and 
				renew my figures compared to previous projects. </p>
				
	<h2>The visualizations </h2>
	<p>I have created some visualizations based on my tables that you can find below. I started all of these visualizations with a specific question in mind and though my dataset was limited (just 3K for the metadata like genre, budget, profit) I think these visualizations give a nice initial taste of the topic. </p>

	<h3>How has the representation of women in movies shifted over the years (and across different genres)? </h3>
				



<!-- 
For this, I used the first named genre from IMDb, calculated the percentage of movies that scored a 4 (highest rating, or a pass). I cut off at year xx since the number of movies for the earlier years was so low that the percentage was not very representative. I only calculated the number over the movies that actually had a bechdel test rating which of course severly limits the number of movies in the sampel (from xxx in imdb to xx)

1. linechart of year (x) + genre (group) + bechdel test (y) 

How has the budget and profit of movies changed over the years and across genres?

I used the dataset with all movies, regardless of bechdel test score, and the first genre for each movie again + the average budget of all movies in that genre in that year, which shifts it a bit ofcourse. 

1. barplot of budget (x) + year (y) + genre (group)
2. barplot of gross (x) + year (y) + genre (group) â€”> add a line for this 

How does the representation of women differ per movie genre? 

Finally I could us e a radarchart/ nightingale rose chart for something! This chart has been on the wishlist for a while but it never seems appropriate. In this case I did include all categroies of the bechdel test and looking at the percentage of movies for each genre that passed one of the categories. 

1. radarchart of nightingale rose chart of genre + bechdel test 

Which popular movies have not been rated in the Bechdel test yet? 

Ofcourse I also want to motivate you to engage with the [bechdeltest.com](http://bechdeltest.com) and fill in the rating of movies you have watched! Therefore, I have included a visualization that shows the movies across genre and years that have not been rated in the bechdel test and have the highes number of ratings (so they should be watched a lot!) 

1. The most watched movies that do not have a be heel test score per year and genre 

How does my own taste of music compare to the highest rated IMDb movies in terms of rating and bechdel test? 

I was curious to see how my own movie share actually compared to the highest rarted movies on imdb 

i also used some tricks with streaming services to quickly compound a list of movies I had seen 

I invite you tho fill in this form, though my project is not at a point of continiously updating from this form to this visualization, I will try to update regularly in the coming weeks. 

1. 2 heatmap of genre + bechdel test + rating reviews (for me and for x top imdb) 

Take-aways 

Some of my take-aways and learnings from this process

- Updating data continously significantly increases your possibilities to make a project more fyun
- working with SQL is significantly more easier to track than working with dataframes
- In addition to that, With Y42 I could easily see the flow of the data which made it so much easier to understand what I was building and make sure my data was clean
- the deadline of a hackathon is a fun way to get from an idea to a MVP fast. Tghere are still many things to improve in this project, but that is fine! I worked on it for about two full days and that already got me to a fun point.
        </p> -->

				<p>Met de verkiezingen in zicht pakte ik een projectje op waar ik lang geleden op was vastgelopen: 
				het visualiseren van het geschenkenregister. Het geschenkenregister is een overzicht van geschenken die Nederlandse
				Tweede Kamerleden ontvangen, bijvoorbeeld bij werkbezoeken, of als bedankje voor een optreden. Er bestaat hiernaast 
				ook een register van nevenfuncties en buitenlandse reizen. Voor Volt is dit nog niet genoeg: <a href=https://voltnederland.org/nieuws/na-een-afkoelperiode-nu-ook-een-lobbyregister>
				zij pleiten, met succes, voor een lobbyregister.</a> </p>

				<p>Het geschenkenregister wordt met wisselende precisie bijgehouden door de Kamerleden. Zo zoekt de ene netjes de 
				prijs van elk geschenk uit terwijl andere Kamerleden opvallend weinig (of geen) geschenken ontvangen. Dit, in combinatie met 
				het matige format waarin het geschenkenregister wordt aangeleverd, maakt het best lastig en saai om opvallende geschenken 
				uit het register te vissen. Vandaar dat het mij nuttig leek om dit register te visualiseren op een manier die rondklikken door de geschenken 
				leuk maakt, een manier die je nieuwsgierigheid wekt, en die snel inzichtelijk maakt waar de uitschieters zitten. </p>
				
				<p>Some of my personal and technical take-aways from this challenge: </p>
				<ol>
					<li>Enkele Kamerleden (20 in totaal) hebben aangegeven geen enkel geschenk te hebben ontvangen. Het gaat hierbij om eenpersoonsfracties, 
					leden van kleine fracties en leden van grote fracties. Het lijkt onwaarschijnlijk dat ze daadwerkelijk geen geschenken hebben ontvangen 
					aangezien alle andere Kamerleden ten minste de zesenvijftigste editie van de Grote Bosatlas hebben gekregen van Uitgeverij Noordhoff.  </li>
					<li>SGP-kamerlid Roelof Bisschop lijkt een behoorlijk zakcentje over te houden aan het geven van lezingen. Hij is een van de weinige kamerleden 
					die regelmatig heeft aangegeven geldbedragen te hebben ontvangen voor het geven van lezingen en spreekbeurten. <a href=https://www.nporadio1.nl/nieuws/politiek/6f5f7d20-6005-4d39-886d-05790f760934/kamerleden-stop-eens-met-al-die-bijbaantjes>Bisschop werd eerder dit jaar ook al
					op de vingers getikt omdat hij te veel bijverdiende met nevenfuncties; hij moest zo'n 600 euro salaris terugbetalen.</a> </li>
					<li>Het lastige bij het visualiseren en analyseren van deze data is: wat je niet weet, weet je niet. Zo kunnen er in deze visualisatie mensen 
					(zoals Roelof Bisschop) opvallen die simpelweg netjes hun administratie bijhouden, terwijl de mensen die helemaal niets opgeven, niet eens 
					zichtbaar zijn. <a href="https://nos.nl/artikel/2496995-integriteitscommissie-kamer-wil-schorsing-drie-kamerleden-forum-voor-democratie">
					Aangezien onlangs nog bleek dat enkele Kamerleden van FvD zich niet aan de gedragsregels voor het doorgeven van nevenfuncties hebben gehouden,</a> 
					lijkt het me onwaarschijnlijk dat het geschenkenregister wel een perfecte weergave van de werkelijkheid is. </li>
				</ol>  
				
				Uiteraard heb ik ook fouten gemaakt bij het verwerken van deze data. Ik heb een groot gedeelte van dit proces geautomatiseerd, en daarbij kun je erop 
				rekenen dat er ook wel eens een foutje tussendoor glipt. Voel je vrij om contact met me op te nemen als je er een paar hebt gevonden! 
				
				<iframe src="https://almaliezenga.com/blog/top-2000/visualization1.html" width="100%" 
					height="500" frameborder="0" scrolling="no"></iframe>
				
			</div>
		</div>
	</body>
</html>
